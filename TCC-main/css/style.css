:root {
  --period-w: 30.5px;
  --slot-gap: 1px;
  --turma-name-col: 220px;
}

* { box-sizing: border-box; }

/* ====== largura consistente da 1ª coluna ====== */
#days-header > div:first-child,
#periods-header > div:first-child,
#schedule-grid .turma-row > div:first-child {
  width: var(--turma-name-col);
  min-width: var(--turma-name-col);
  max-width: var(--turma-name-col);
}

#schedule-grid .turma-row > div:first-child {
  white-space: normal;
  line-height: 1.1;
}

.time-slot {
  min-height: 52px;
  cursor: pointer;
  transition: all .2s;
  border: 1px solid #e5e7eb;
  background: #fff;
}
.time-slot:hover {
  background-color: #dbeafe !important;
  transform: scale(1.02);
  box-shadow: 0 2px 4px rgba(0, 0, 0, .08);
}

/* ==== NOVO: blocos alocados com cor mais suave ==== */
.occupied {
  background-color: #c7d2fe !important; /* lilás claro */
  border: 1px solid #a5b4fc;
  color: #1e1b4b;
}
.occupied:hover {
  background-color: #a5b4fc !important; /* tom um pouco mais escuro no hover */
}

/* Blocos com conflito (mantém vermelho) */
.conflict-teacher {
  outline: 2px solid #ef4444;
  outline-offset: -2px;
  position: relative;
  background-color: #fecaca !important;
  border: 1px solid #f87171 !important;
}
.conflict-badge {
  position: absolute;
  top: 2px;
  right: 6px;
  font-size: 10px;
  background: #fee2e2;
  color: #b91c1c;
  padding: 2px 4px;
  border-radius: 4px;
  pointer-events: none;
}

/* layout geral */
.turma-row {
  display: grid;
  grid-template-columns: var(--turma-name-col) repeat(6, 1fr);
  gap: 2px;
  margin-bottom: 2px;
}

.day-column {
  display: grid;
  grid-template-columns: repeat(12, var(--period-w));
  gap: var(--slot-gap);
}

.period-label {
  white-space: nowrap;
  line-height: 1.05;
  border: 1px solid #e5e7eb;
}

.header-day {
  min-width: calc(12 * var(--period-w) + 11 * var(--slot-gap));
}

.card-selected {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
}

.grid-scroller { overflow-x: auto; }

.block-head { border-radius: 6px; }
.block-tail {}

/* ==== MODO VISUALIZAÇÃO DE 1 TURMA ==== */
.single-view { --period-w: 110px; }

.single-view .turma-row {
  grid-template-columns: 140px calc(12 * var(--period-w) + 11 * var(--slot-gap));
}

.single-view .time-slot { min-height: 72px; }

.single-view .header-day {
  display: block;
  min-width: 0;
  width: 100%;
}

.single-view #days-header {
  display: grid;
  grid-template-columns: 140px calc(12 * var(--period-w) + 11 * var(--slot-gap));
  margin-bottom: 4px;
}
.single-view #days-header .header-day { grid-column: 2 / 3; }

.single-view #days-header > div:first-child {
  border-top-left-radius: .5rem;
  border-bottom-left-radius: .5rem;
}
.single-view #days-header > div:last-child {
  border-top-right-radius: .5rem;
  border-bottom-right-radius: .5rem;
}

.single-view #days-header,
.single-view #periods-header,
.single-view #viz-grid {
  width: calc(140px + (12 * var(--period-w) + 11 * var(--slot-gap)));
  margin-inline: auto;
}

.single-view .turma-row {
  grid-template-columns: 140px calc(12 * var(--period-w) + 11 * var(--slot-gap));
}
.single-view .grid-scroller { padding-inline: 8px; }

/* ==== ZOOM ==== */
.zoomable {
  transform-origin: top left;
  will-change: transform;
  position: relative;
  overflow: hidden;
}
.zoomable__inner {
  transform-origin: top left;
  display: inline-block;
}
